<div class="login-container">
    <!-- Left Section: Login Form -->
    <div class="login-form-section">
        <div class="form-wrapper">
            <!-- Logo -->
            <div class="logo-section">
                <img src="assets/images/vitalia-logo.svg" alt="Vitalia" class="app-logo" />
                <h1>Sign in</h1>
                <p class="subtitle">Enter your credentials to access your account</p>
            </div>

            <!-- Role Selector (5 roles - SUPER_ADMIN hidden for security) -->
            <div class="role-selector">
                <button type="button" class="role-btn admin" [class.active]="selectedRole === 'TENANT_ADMIN'"
                    (click)="selectRole('TENANT_ADMIN')">
                    <span class="role-icon">‚öôÔ∏è</span>
                    Admin
                </button>
                <button type="button" class="role-btn doctor" [class.active]="selectedRole === 'DOCTOR'"
                    (click)="selectRole('DOCTOR')">
                    <span class="role-icon">ü©∫</span>
                    Doctor
                </button>
                <button type="button" class="role-btn nurse" [class.active]="selectedRole === 'NURSE'"
                    (click)="selectRole('NURSE')">
                    <span class="role-icon">üíâ</span>
                    Nurse
                </button>
                <button type="button" class="role-btn employee" [class.active]="selectedRole === 'EMPLOYEE'"
                    (click)="selectRole('EMPLOYEE')">
                    <span class="role-icon">üíº</span>
                    Employee
                </button>
                <button type="button" class="role-btn patient" [class.active]="selectedRole === 'PATIENT'"
                    (click)="selectRole('PATIENT')">
                    <span class="role-icon">üè•</span>
                    Patient
                </button>
            </div>

            <!-- Tenant Selector (only for roles that need it) -->
            <div class="form-group" *ngIf="requiresTenant">
                <label for="tenant">Hospital/Clinic <span class="required">*</span></label>
                <select id="tenant" [(ngModel)]="selectedTenant" class="form-control" required>
                    <option value="">Select your hospital</option>
                    <option *ngFor="let tenant of availableTenants" [value]="tenant.code">
                        {{ tenant.name }}
                    </option>
                </select>
            </div>

            <!-- Login Form -->
            <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" formControlName="email" class="form-control"
                        placeholder="Enter your email"
                        [class.error]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" />
                    <span class="error-message"
                        *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
                        Please enter a valid email
                    </span>
                </div>

                <div class="form-group">
                    <label for="password">Password</label>
                    <div class="password-input-wrapper">
                        <input [type]="showPassword ? 'text' : 'password'" id="password" formControlName="password"
                            class="form-control" placeholder="Enter your password"
                            [class.error]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" />
                        <button type="button" class="toggle-password" (click)="togglePassword()">
                            <span *ngIf="!showPassword">üëÅÔ∏è</span>
                            <span *ngIf="showPassword">üôà</span>
                        </button>
                    </div>
                    <span class="error-message"
                        *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
                        Password is required
                    </span>
                </div>

                <div class="form-options">
                    <label class="checkbox-label">
                        <input type="checkbox" [(ngModel)]="rememberMe" [ngModelOptions]="{standalone: true}" />
                        <span>Remember me</span>
                    </label>
                    <a href="/forgot-password" class="forgot-link">Forgot Password?</a>
                </div>

                <!-- Error Message -->
                <div class="alert alert-error" *ngIf="errorMessage">
                    {{ errorMessage }}
                </div>

                <!-- Login Button -->
                <button type="submit" class="btn-login"
                    [disabled]="loginForm.invalid || isLoading || (requiresTenant && !selectedTenant)">
                    <span *ngIf="!isLoading">Login</span>
                    <span *ngIf="isLoading" class="spinner"></span>
                </button>
            </form>

            <!-- Footer -->
            <div class="form-footer">
                <p>Don't have an account? <a href="/register" class="signup-link">Sign up</a></p>

                <!-- Social Login (Optional) -->
                <div class="social-login">
                    <p class="divider"><span>Or continue with</span></p>
                    <div class="social-buttons">
                        <button type="button" class="social-btn google">
                            <img src="assets/icons/google.svg" alt="Google" />
                        </button>
                        <button type="button" class="social-btn facebook">
                            <img src="assets/icons/facebook.svg" alt="Facebook" />
                        </button>
                        <button type="button" class="social-btn apple">
                            <img src="assets/icons/apple.svg" alt="Apple" />
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Right Section: Illustration & Message -->
    <div class="login-illustration-section">
        <div class="illustration-wrapper">
            <img src="assets/images/medical-illustration.svg" alt="Healthcare Illustration" />
            <div class="illustration-text">
                <h2>Bienvenido a Vitalia</h2>
                <p>Sistema integral de gesti√≥n hospitalaria para mejorar la atenci√≥n m√©dica y optimizar procesos
                    administrativos</p>
            </div>
        </div>
    </div>
</div>