<div class="dashboard-container">
    <!-- Header -->
    <header class="dashboard-header">
        <div class="header-content">
            <h1>Panel Médico</h1>
            <p>Dr/a. <strong>{{ userName() }}</strong> - {{ tenantName() }}</p>
        </div>
        <div class="header-actions">
            <ui-button variant="primary" icon="add">
                Nueva Consulta
            </ui-button>
        </div>
    </header>

    <!-- Stats Grid -->
    <section class="stats-grid">
        @for (stat of stats; track stat.title) {
        <ui-card class="stat-card">
            <div class="stat-icon" [attr.data-variant]="stat.variant">
                <ui-icon [fontIcon]="stat.icon"></ui-icon>
            </div>
            <div class="stat-content">
                <p class="stat-title">{{ stat.title }}</p>
                <div class="stat-value-row">
                    <span class="stat-value">{{ stat.value }}</span>
                    @if (stat.trend) {
                    <div class="stat-trend" [class.positive]="stat.trend.isPositive"
                        [class.negative]="!stat.trend.isPositive">
                        <ui-icon [fontIcon]="stat.trend.isPositive ? 'trending_up' : 'trending_down'"></ui-icon>
                        <span>{{ stat.trend.value }}%</span>
                    </div>
                    }
                </div>
            </div>
        </ui-card>
        }
    </section>

    <!-- Content Grid -->
    <div class="content-grid">
        <!-- Next Appointments -->
        <ui-card class="activity-card">
            <div class="card-header">
                <h3>
                    <ui-icon class="text-primary">schedule</ui-icon>
                    Próximas Citas
                </h3>
                <ui-button variant="ghost" size="sm">Ver Agenda</ui-button>
            </div>
            <div class="activity-list">
                <div class="activity-item">
                    <div class="activity-time-badge">10:00</div>
                    <div class="activity-content">
                        <p class="activity-title">Maria Gonzalez</p>
                        <p class="activity-subtitle">Control General - <span class="text-info">Confirmado</span></p>
                    </div>
                    <ui-button variant="ghost" size="sm" icon="visibility"></ui-button>
                </div>
                <div class="activity-item">
                    <div class="activity-time-badge">10:30</div>
                    <div class="activity-content">
                        <p class="activity-title">Juan Perez</p>
                        <p class="activity-subtitle">Primera Consulta - <span class="text-warning">Pendiente</span></p>
                    </div>
                    <ui-button variant="ghost" size="sm" icon="visibility"></ui-button>
                </div>
                <div class="activity-item">
                    <div class="activity-time-badge">11:15</div>
                    <div class="activity-content">
                        <p class="activity-title">Ana Lopez</p>
                        <p class="activity-subtitle">Resultados Laboratorio</p>
                    </div>
                    <ui-button variant="ghost" size="sm" icon="visibility"></ui-button>
                </div>
            </div>
        </ui-card>

        <!-- Quick Actions -->
        <ui-card class="quick-actions-card">
            <div class="card-header">
                <h3>
                    <ui-icon class="text-primary">medical_services</ui-icon>
                    Accesos Rápidos
                </h3>
            </div>
            <div class="actions-grid">
                <button class="action-btn" routerLink="/doctor/queue">
                    <ui-icon class="text-danger">people_alt</ui-icon>
                    <span>Cola de Espera</span>
                </button>
                <button class="action-btn" routerLink="/doctor/patients/list">
                    <ui-icon class="text-primary">assignment_ind</ui-icon>
                    <span>Mis Pacientes</span>
                </button>
                <button class="action-btn" routerLink="/doctor/results/labs">
                    <ui-icon class="text-info">science</ui-icon>
                    <span>Laboratorio</span>
                </button>
                <button class="action-btn" routerLink="/doctor/chat">
                    <ui-icon class="text-secondary">chat</ui-icon>
                    <span>Mensajes</span>
                </button>
            </div>
        </ui-card>
    </div>
</div>