<div class="ui-form-field" [class.ui-form-field--outline]="appearance === 'outline'"
    [class.ui-form-field--filled]="appearance === 'filled'" [class.ui-form-field--disabled]="disabled"
    [class.ui-form-field--error]="hasError" [class.ui-form-field--focused]="isFocused"
    [class.ui-form-field--has-value]="hasValue" [class.ui-form-field--has-prefix]="hasPrefix()"
    [class.ui-form-field--has-suffix]="hasSuffix()">

    <!-- CONTROL CONTAINER (Border, Background, Flex layout) -->
    <div class="ui-form-field__control">

        <!-- LABEL -->
        @if (label) {
        <label class="ui-form-field__label" [attr.for]="fieldId()">
            {{ label }}
            @if (required) {
            <span class="ui-form-field__required">*</span>
            }
        </label>
        }

        <!-- PREFIX -->
        @if (hasPrefix()) {
        <div class="ui-form-field__prefix">
            <ng-content select="[uiPrefix]"></ng-content>
        </div>
        }

        <!-- INPUT / SELECT / TEXTAREA (Slot) -->
        <div class="ui-form-field__input">
            <ng-content select="[uiInput]"></ng-content>
            <ng-content></ng-content> <!-- Fallback -->
        </div>

        <!-- SUFFIX -->
        @if (hasSuffix()) {
        <div class="ui-form-field__suffix">
            <ng-content select="[uiSuffix]"></ng-content>
        </div>
        }

        <!-- OUTLINE: Fieldset Approach (Robust Notch) -->
        @if (appearance === 'outline') {
        <fieldset class="ui-form-field__outline">
            <legend class="ui-form-field__legend">
                <span>{{ label }}</span>
                @if (required) {
                <span class="ui-form-field__required">*</span>
                }
            </legend>
        </fieldset>
        }

    </div>

    <!-- SUBSCRIPT: ERROR / HINT -->
    <div class="ui-form-field__subscript">
        @if (hasError) {
        <div class="ui-form-field__error">
            <ng-content select="[uiError]"></ng-content>
            @if (error) {
            <ng-container>{{ error }}</ng-container>
            }
        </div>
        } @else {
        <div class="ui-form-field__hint">
            <ng-content select="[uiHint]"></ng-content>
            @if (hint) {
            <ng-container>{{ hint }}</ng-container>
            }
        </div>
        }
    </div>

</div>