<ng-container [ngSwitch]="variant">
    <!-- PRIMARY / SECONDARY / DANGER -->
    <button *ngSwitchCase="'primary'" mat-flat-button color="primary" [type]="type" [disabled]="disabled || loading"
        (click)="handleClick($event)" [attr.aria-label]="ariaLabel">
        <ng-container *ngTemplateOutlet="content"></ng-container>
    </button>

    <button *ngSwitchCase="'secondary'" mat-flat-button color="accent" [type]="type" [disabled]="disabled || loading"
        (click)="handleClick($event)" [attr.aria-label]="ariaLabel">
        <ng-container *ngTemplateOutlet="content"></ng-container>
    </button>

    <button *ngSwitchCase="'danger'" mat-flat-button color="warn" [type]="type" [disabled]="disabled || loading"
        (click)="handleClick($event)" [attr.aria-label]="ariaLabel">
        <ng-container *ngTemplateOutlet="content"></ng-container>
    </button>

    <!-- OUTLINE -->
    <button *ngSwitchCase="'outline'" mat-stroked-button [type]="type" [disabled]="disabled || loading"
        (click)="handleClick($event)" [attr.aria-label]="ariaLabel">
        <ng-container *ngTemplateOutlet="content"></ng-container>
    </button>

    <!-- GHOST -->
    <button *ngSwitchCase="'ghost'" mat-button [type]="type" [disabled]="disabled || loading"
        (click)="handleClick($event)" [attr.aria-label]="ariaLabel">
        <ng-container *ngTemplateOutlet="content"></ng-container>
    </button>

    <!-- DEFAULT FALLBACK -->
    <button *ngSwitchDefault mat-flat-button color="primary" [type]="type" [disabled]="disabled || loading"
        (click)="handleClick($event)" [attr.aria-label]="ariaLabel">
        <ng-container *ngTemplateOutlet="content"></ng-container>
    </button>
</ng-container>

<ng-template #content>
    <div class="ui-button__container" [class.ui-button__container--loading]="loading">
        @if (loading) {
        <mat-spinner [diameter]="20" class="ui-button__spinner"></mat-spinner>
        }
        <span class="ui-button__content" [style.visibility]="loading ? 'hidden' : 'visible'">
            <ng-content></ng-content>
        </span>
    </div>
</ng-template>