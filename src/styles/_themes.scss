@use '@angular/material' as mat;

/* 
 * ---------------------------------------------------------
 * GLOBAL THEME ARCHITECTURE (Standardized)
 * ---------------------------------------------------------
 * Using Angular Material M2 API (m2- prefixes for v18+)
 */

// 1. Define Standard Material Palettes
$indigo: mat.m2-define-palette(mat.$m2-indigo-palette);
$pink: mat.m2-define-palette(mat.$m2-pink-palette);
$deeppurple: mat.m2-define-palette(mat.$m2-deep-purple-palette);
$amber: mat.m2-define-palette(mat.$m2-amber-palette);
$purple: mat.m2-define-palette(mat.$m2-purple-palette);
$green: mat.m2-define-palette(mat.$m2-green-palette);
$bluegrey: mat.m2-define-palette(mat.$m2-blue-grey-palette);
$red: mat.m2-define-palette(mat.$m2-red-palette);

// 2. Define Base Theme Configuration (Structural)
$typography: mat.m2-define-typography-config($font-family: 'Roboto, "Helvetica Neue", sans-serif',
  );

// Default Theme (Indigo-Pink)
$default-light-theme: mat.m2-define-light-theme((color: (primary: $indigo, accent: $pink, warn: $red),
      typography: $typography,
      density: 0));

$default-dark-theme: mat.m2-define-dark-theme((color: (primary: $indigo, accent: $pink, warn: $red),
      typography: $typography,
      density: 0));

// 3. Apply Base Styles to HTML
html {
  @include mat.core();
  @include mat.all-component-themes($default-light-theme);
  color-scheme: light;
}

// 4. Global Dark Mode Override
.theme-dark {
  @include mat.all-component-colors($default-dark-theme);
  color-scheme: dark;
}

// 5. Custom Color Themes (Class-Based Overrides)
@mixin register-theme($primary, $accent) {
  $light-config: mat.m2-define-light-theme((color: (primary: $primary, accent: $accent, warn: $red)));

  $dark-config: mat.m2-define-dark-theme((color: (primary: $primary, accent: $accent, warn: $red)));

  @include mat.all-component-colors($light-config);

  &.theme-dark,
  .theme-dark & {
    @include mat.all-component-colors($dark-config);
  }
}

// Register Classes
.indigo-pink {
  @include register-theme($indigo, $pink);
}

.deeppurple-amber {
  @include register-theme($deeppurple, $amber);
}

.pink-bluegrey {
  @include register-theme($pink, $bluegrey);
}

.purple-green {
  @include register-theme($purple, $green);
}

// Compatibility Aliases
.light-theme {
  @include register-theme($indigo, $pink);
}

.dark-theme {
  @include register-theme($indigo, $pink);
}