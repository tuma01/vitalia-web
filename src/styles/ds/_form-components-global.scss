/**
 * Global Form Component Configuration
 * 
 * This file contains shared mixins and configurations for all form components
 * (buttons, inputs, selects) to ensure consistent heights and styling.
 * 
 * Usage: @use 'path/to/form-components-global' as form;
 */

/**
 * Mixin: Form Component Container
 * Applies consistent height constraints to the host element of form components
 */
@mixin form-component-host($size: 'md') {
    display: flex; // FORCE flex for vertical alignment DNA
    align-items: center; // FORCE vertical center
    box-sizing: border-box !important;
    line-height: normal;
    vertical-align: middle;
    width: 100%;

    // Strict height enforcement: The Host is the owner of the box dimension
    @if $size =='sm' {
        min-height: var(--ui-size-sm) !important;
        height: var(--ui-size-sm) !important;
        max-height: var(--ui-size-sm) !important;
    }

    @else if $size =='md' {
        min-height: var(--ui-size-md) !important;
        height: var(--ui-size-md) !important;
        max-height: var(--ui-size-md) !important;
    }

    @else if $size =='lg' {
        min-height: var(--ui-size-lg) !important;
        height: var(--ui-size-lg) !important;
        max-height: var(--ui-size-lg) !important;
    }
}

/**
 * Mixin: Form Component Inner Element
 * The "Inner" element (input, select) fills the host and handles text centering
 */
@mixin form-component-inner($display: flex) {
    // Reset Appearance
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;

    // Box Model: Inner MUST be 100% of host
    box-sizing: border-box !important;
    display: $display;
    width: 100%;
    height: 100% !important;
    max-height: 100% !important;
    min-height: 0 !important;

    margin: 0 !important;
    padding: 0; // VERTICAL PADDING IS BANNED (Geometry Contract)

    // Borders & Background
    border: none !important;
    background: transparent !important;
    outline: none;

    // Typography: Centering via Flex, NOT line-height
    font-family: var(--ui-font-family-sans);
    font-size: var(--ui-font-size-sm);
    line-height: normal !important; // Kill body 1.5 inheritance

    @if $display =='flex' or $display =='inline-flex' {
        align-items: center;
        // justify-content: center; // Removed: Left padding handles text start
    }

    // Overflow rules
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/**
 * Mixin: Form Component Padding
 * Applies size-specific padding
 */
@mixin form-component-padding($size: 'md') {
    padding-block: 0 !important;
    padding-inline: 16px !important; // Unified 16px (1rem) Axis
}

/**
 * Mixin: Form Component Size Variant
 * Combines host and padding for a complete size configuration
 */
@mixin form-component-size($size: 'md') {
    @include form-component-host($size);

    // Apply padding to inner element
    >*:first-child,
    button,
    input,
    select {
        @include form-component-padding($size);
    }
}