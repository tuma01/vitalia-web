
 RUN  v4.0.15 F:/JAVA-PROJET/vitalia/workspace/vitalia-web

stdout | src/app/core/services/theme.service.spec.ts
[ThemeEngine] Injecting 85 variables into :root for theme: vitalia-light
[ThemeEngine] Applied: vitalia-light

 Γ¥» src/app/core/services/theme.service.spec.ts (6 tests | 3 failed) 134ms
     Γ£ô should initialize with Vitalia brand by default 46ms
     ├ù should apply tenant overrides on top of brand identity 49ms
     ├ù should preserve PAL DNA structure when using partial overrides 11ms
     ├ù should map extended palette colors correctly 8ms
     Γ£ô should persist and recover configuration from localStorage 9ms
     Γ£ô should support custom CSS string injection in the theme object 7ms

ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ» Failed Tests 3 ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»

 FAIL  src/app/core/services/theme.service.spec.ts > UiThemeService Overrides (v2.7) > should apply tenant overrides on top of brand identity
AssertionError: expected '' to be '#FF5733' // Object.is equality

- Expected
+ Received

- #FF5733

 Γ¥» src/app/core/services/theme.service.spec.ts:61:74
     59|         const root = doc.documentElement;
     60|         // JSDOM soporta style.getPropertyValue
     61|         expect(root.style.getPropertyValue('--ui-color-action-primary'ΓÇª
       |                                                                          ^
     62|         expect(root.style.getPropertyValue('--ui-color-action-primary-ΓÇª
     63|     });

ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[1/3]ΓÄ»

 FAIL  src/app/core/services/theme.service.spec.ts > UiThemeService Overrides (v2.7) > should preserve PAL DNA structure when using partial overrides
AssertionError: expected '' to be '4' // Object.is equality

- Expected
+ Received

- 4

 Γ¥» src/app/core/services/theme.service.spec.ts:72:81
     70|         // Spacing unit should come from PAL_DEFAULT_THEME
     71|         expect(service.theme().spacing.unit).toBe(PAL_DEFAULT_THEME.spΓÇª
     72|         expect(doc.documentElement.style.getPropertyValue('--ui-spacinΓÇª
       |                                                                                 ^
     73|     });
     74| 

ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[2/3]ΓÄ»

 FAIL  src/app/core/services/theme.service.spec.ts > UiThemeService Overrides (v2.7) > should map extended palette colors correctly
AssertionError: expected '' to be '#00FF00' // Object.is equality

- Expected
+ Received

- #00FF00

 Γ¥» src/app/core/services/theme.service.spec.ts:83:69
     81| 
     82|         const root = doc.documentElement;
     83|         expect(root.style.getPropertyValue('--ui-color-text-link')).toΓÇª
       |                                                                     ^
     84|         expect(root.style.getPropertyValue('--ui-color-action-accent')ΓÇª
     85|         expect(root.style.getPropertyValue('--ui-color-action-error'))ΓÇª

ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[3/3]ΓÄ»


 Test Files  1 failed (1)
      Tests  3 failed | 3 passed (6)
   Start at  01:26:47
   Duration  4.44s (transform 395ms, setup 0ms, import 1.51s, tests 134ms, environment 2.32s)

